[Link para página original no Confluence](https://openfinancebrasil.atlassian.net/wiki/spaces/OF/pages/134316072)

Aqui apresentamos a configuração de *webhook* no Diretório

* * *

## **Etapa 1: Inscrever-se em um Tópico**

### Requisitos

**1.** Em seu navegador, navegue até [<u>webhook.site</u>](https://webhook.site/) e uma URL única e aleatória será gerada automaticamente. Ela poderá ser utilizada para testar e depurar Webhooks e solicitações HTTP.

**2.** Selecione a URL e copie.

![att134316097](16.%20Configurando%20eventos%20de%20notifica%c3%a7%c3%a3o%20no%20Diret%c3%b3rio/attachments/image-20230516-192847.png)

* * *

##  **Etapa 2: Solicitando uma Subscrição**

### Requisitos

**1.** No Diretório, selecione a sua organização e vá até a página detalhes da organização.

**2.** Selecione o menu `Authorisation Servers` e em *actions* clique no ícone editar.

**3. **Na página `Authorisation Server Information` cole a URL obtida na Etapa 1 no campo `Notification Webhook Endpoint`*.*

![att134316094](16.%20Configurando%20eventos%20de%20notifica%c3%a7%c3%a3o%20no%20Diret%c3%b3rio/attachments/image-20230516-192900.png)

* * *

##  **Etapa 3: Confirmando uma Subscrição**

### Requisitos

**1. **De volta ao webhook.site, role para baixo e no campo de texto `Raw Context` selecione e copie a URL em `SubscribeURL` para se subscrever no tópico.

**2.** Em uma nova aba do navegador, cole a URL obtida no passo anterior.

**3.** Pronto! A partir daqui, toda e qualquer modificação que ocorra no Diretório será notificada através de eventos.

![att134316091](16.%20Configurando%20eventos%20de%20notifica%c3%a7%c3%a3o%20no%20Diret%c3%b3rio/attachments/image-20230516-192910.png)

* * *

##  **Etapa 4: Analisando um Evento de Notificação**

### Requisitos

**1.** No Diretório, selecione a sua organização e vá até a página detalhes da organização.

**2.** Selecione o menu `Software Statement `e em *actions* clique no ícone editar.

**3.** Na janela `Software Statement Details` vá até o campo `description` e digite qualquer valor e clique no botão `Salvar`.

**4. **Neste momento, o Diretório irá enviar uma notificação `push`.

**5.** De volta ao webhook.site, clique no primeiro evento que surge na lista a esquerda da tela.

**6.** Role a tela para baixo e no campo de texto `Raw Context` localize o novo valor adicionado no atributo `description`.

![att134316088](16.%20Configurando%20eventos%20de%20notifica%c3%a7%c3%a3o%20no%20Diret%c3%b3rio/attachments/image-20230516-192919.png)

[Link para página original no Confluence](https://openfinancebrasil.atlassian.net/wiki/spaces/OF/pages/134316072)